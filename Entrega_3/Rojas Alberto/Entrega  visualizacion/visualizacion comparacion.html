# === COMPARATIVA DE MINUTOS PROMEDIO ENTRE SUDAMÉRICA Y EUROPA ===
# Este código compara los minutos jugados promedio por selección
# y muestra tanto los promedios regionales como los valores individuales.

# 1️⃣ Importar librerías
import pandas as pd
import matplotlib.pyplot as plt

# 2️⃣ Crear DataFrame con los datos
data = {
    "Seleccion": ["Italia", "Argentina", "Francia", "Colombia", "Noruega", 
                  "España", "Brasil", "Paraguay", "Ucrania", "Chile"],
    "Promedio_minutos": [1597.95, 574.87, 1150.88, 768.54, 1165.85,
                         1498.76, 1513.81, 579.73, 1169.05, 674.19],
    "Region": ["Europa", "Sudamérica", "Europa", "Sudamérica", "Europa",
               "Europa", "Sudamérica", "Sudamérica", "Europa", "Sudamérica"]
}

df = pd.DataFrame(data)

# 3️⃣ Calcular promedio por región
promedios = df.groupby("Region")["Promedio_minutos"].mean().reset_index()

# 4️⃣ Calcular diferencia promedio entre regiones
diff = promedios.loc[promedios["Region"] == "Europa", "Promedio_minutos"].values[0] - \
       promedios.loc[promedios["Region"] == "Sudamérica", "Promedio_minutos"].values[0]

print("=== Promedios por región ===")
print(promedios)
print(f"\nDiferencia promedio (Europa - Sudamérica): {diff:.2f} minutos")

# 5️⃣ Gráfico 1: Promedio por región
plt.figure(figsize=(6,4))
plt.bar(promedios["Region"], promedios["Promedio_minutos"], color=["royalblue", "mediumseagreen"])
plt.title("Promedio de minutos jugados por región (Primera División)")
plt.ylabel("Minutos promedio")
plt.xlabel("Región")
plt.text(0.5, max(promedios["Promedio_minutos"])*0.9, f"Dif: {diff:.1f}", 
         ha='center', fontsize=10, color="black")

plt.tight_layout()
plt.savefig("promedio_por_region.png", dpi=150)
plt.show()

# 6️⃣ Gráfico 2: Todas las selecciones
plt.figure(figsize=(10,5))
colors = df["Region"].map({"Europa": "royalblue", "Sudamérica": "mediumseagreen"})
plt.bar(df["Seleccion"], df["Promedio_minutos"], color=colors)
plt.title("Minutos jugados promedio por selección (Primera División)")
plt.ylabel("Minutos promedio")
plt.xticks(rotation=45, ha='right')

# Añadimos etiquetas de región arriba de cada barra
for i, v in enumerate(df["Promedio_minutos"]):
    plt.text(i, v + 20, df["Region"][i], ha='center', fontsize=8, color='gray')

plt.tight_layout()
plt.savefig("minutos_por_seleccion.png", dpi=150)
plt.show()

